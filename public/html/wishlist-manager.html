<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Wishlists Pre-Evento</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1/build/qrcode.min.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/wishlist-manager.js" defer></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4366966319354898"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="ad-banner ad-banner-top">
        
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-4366966319354898"
             data-ad-slot="6278913010"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        </div>

    <div class="container">
        <!-- Logo de la empresa -->
        <div id="company-logo-container">
            <img id="company-logo" src="" alt="Logo" style="display: none;">
        </div>

        <h1>ğŸµ Wishlists Pre-Evento</h1>
        
        <div class="nav-links">
            <a href="/html/dj.html">â† Volver al Panel</a>
            <a href="/html/history.html">Historial</a>
        </div>

        <div class="stats-panel" style="background-color: rgba(3, 218, 198, 0.1); border-color: var(--color-secondary);">
            <h3>â„¹ï¸ Â¿QuÃ© son las Wishlists Pre-Evento?</h3>
            <p style="text-align: left; margin: 10px 0;">
                Las <strong>Wishlists Pre-Evento</strong> te permiten recopilar las canciones favoritas de tus invitados 
                <strong>antes</strong> del evento. Crea una wishlist, comparte el enlace/QR con tus invitados, 
                y ellos podrÃ¡n sugerir canciones. Luego exporta la lista a PDF para preparar tu set.
            </p>
            <p style="text-align: left; margin: 10px 0; color: var(--color-secondary);">
                <strong>âœ… Ventaja:</strong> Estas peticiones NO aparecerÃ¡n durante el evento en vivo, 
                manteniendo tu panel de peticiones limpio y organizado.
            </p>
        </div>

        <div class="stats-panel" id="create-section">
            <h3>â• Crear Nueva Wishlist</h3>
            <form id="create-wishlist-form">
                <input type="text" id="wishlist-name" placeholder="Nombre de la wishlist (ej: Boda de Ana - Favoritas)" required>
                <input type="text" id="wishlist-description" placeholder="DescripciÃ³n (opcional)">
                <input type="date" id="wishlist-date" placeholder="Fecha del evento (opcional)">
                <button type="submit" style="background-color: var(--color-secondary);">Crear Wishlist</button>
            </form>
        </div>

        <div id="wishlists-container">
            <h3>ğŸ“‹ Mis Wishlists</h3>
            <p id="loading-message">Cargando wishlists...</p>
            <div id="wishlists-list"></div>
        </div>
    </div>

    <div id="wishlist-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2 id="modal-title"></h2>
                <button id="close-modal" style="width: auto; padding: 10px 20px; background-color: var(--color-error);">âœ•</button>
            </div>
            
            <div id="modal-info"></div>
            
            <div style="display: flex; gap: 10px; margin: 20px 0; flex-wrap: wrap;">
                <button id="export-pdf-btn" style="flex: 1; min-width: 150px; background-color: var(--color-error);">
                    ğŸ“„ Exportar a PDF
                </button>
                <button id="copy-link-btn" style="flex: 1; min-width: 150px; background-color: var(--color-secondary);">
                    ğŸ”— Copiar Enlace
                </button>
                <button id="show-qr-btn" style="flex: 1; min-width: 150px; background-color: var(--color-primary);">
                    ğŸ“± Mostrar QR
                </button>
            </div>

            <div id="qr-container" style="display: none; text-align: center; margin: 20px 0;">
                <canvas id="wishlist-qr"></canvas>
            </div>
            
            <h3>ğŸµ Canciones Sugeridas (<span id="song-count">0</span>)</h3>
            <ul id="modal-songs-list" style="list-style: none; padding: 0; max-height: 400px; overflow-y: auto;"></ul>
        </div>
    </div>

    <div class="ad-banner ad-banner-bottom">
        
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-4366966319354898"
             data-ad-slot="3976183308"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        </div>
</body>
</html>